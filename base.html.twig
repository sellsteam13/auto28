<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}{% endblock %}</title>
    {% block metatags %}{% endblock %}
    {% block metasocials %}{% endblock %}
    <meta name="theme-color" content="#fff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1.0">
    <link rel="icon" sizes="16x16" href="/favicon-16.png" type="image/png">
    <link rel="icon" sizes="32x32" href="/favicon-32.png" type="image/png">
    <link rel="apple-touch-icon" href="/apple-touch-icon-iphone-60x60.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-ipad-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-iphone-retina-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-ipad-retina-152x152.png">

    <link rel="stylesheet" href="{{ asset('bundles/Default/styles/main.min.css') }}">
    <link href="{{ asset('bundles/Default/styles/custom2.css') }}" rel="stylesheet">
    {% block extra_styles %}{% endblock %}

    <link rel="manifest" href="https://auto28.es/manifest.json">
    <script src="https://auto28.es/pwabuilder-sw.js"></script>

    <script type="module">
        import 'https://cdn.jsdelivr.net/npm/@pwabuilder/pwaupdate';
        const el = document.createElement('pwa-update'); document.body.appendChild(el);
    </script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@pwabuilder/pwainstall"></script>
    <script>
        const checkForPwaIsInstalled = () => {
            const pwaBtn = document.querySelector('pwa-install');
            return pwaBtn.getInstalledStatus();
        };
        const hidePwaBlock = () => {
            if (checkForPwaIsInstalled() === true)
            {
                if (document.querySelector('.welcome-pwa'))
                {
                    const pwaBlock = document.querySelector('.welcome-pwa');
                    pwaBlock.style.display = 'none';
                }
            }
        };
        const checkForInstall = () => {
            if (location.hash == '#installApp')
            {
                if (checkForPwaIsInstalled() != true) {
                    const pwaBtn = document.querySelector('pwa-install');
                    pwaBtn.openPrompt();
                }
            }
        };
        document.addEventListener('DOMContentLoaded', () => {
            hidePwaBlock();
            checkForInstall();
        });
    </script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171108420-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-171108420-1');
    </script>

    <script type="text/javascript">
        var js_translations = {
            'Ok!': '{{ 'Ok!'|trans }}',
            'Warning!': '{{ 'Warning!'|trans }}',
            'Error!': '{{ 'Error!'|trans }}',
        }
    </script>
</head>

<body class="{% if not app.request.cookies.get('cookieInfoAccepted') %}cookies-non-accepted{% else %}cookies-accepted{% endif %} {% block bodyClass %}{% endblock %}">
    <div class="wrapper">
        {% block banner_a1 %}{% endblock %}
        {{ render(controller('DashboardCommonBundle:Default:getHeader', {'request' : app.request})) }}
        {% block before_main %}{% endblock %}
        <main class="main {% block mainClass %}{% endblock %}">
            {% block breadcrumbs %}{% endblock %}
            {% block body %}{% endblock %}
        </main>
        {{ render(controller('DashboardCommonBundle:Default:getFooter', {'request' : app.request, 'session' : app.session})) }}
    </div>

    <!-- connecting scripts -->
    <script src="{{ asset('bundles/Default/js/main.min.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/vendor.min.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/jquery.cookie.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/jquery.maskedinput.min.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/jquery.customform.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/functions.js') }}"></script>
    <script src="{{ asset('bundles/Default/js/scripts.js') }}"></script>
    {% block extra_scripts %}{% endblock %}
</body>

</html>
